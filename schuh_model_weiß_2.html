<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Sneaker Model Customizer</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        /* General Styling */
        body {
            margin: 0;
            background-color: white;
            color: black;
            font-family: Arial, sans-serif;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
            transition: background-color 0.5s, color 0.5s;
        }

        .model-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100vw;
            height: 70vh;
            margin-left: calc(-50vw + 50%);
        }

        model-viewer {
            width: 100%;
            height: 100%;
            object-fit: contain;
            --shadow-intensity: 1.5;
            --background-color: white;
            --spot-light-intensity: 3;
            --spot-light-position: 1m 2m 3m;
            --spot-light-target: 0 0 0;
            --ambient-intensity: 1.2;
            camera-controls;
            touch-action: none;
            min-camera-distance: 0.5m;
            max-camera-distance: 3m;
        }

        /* Slideshow Styling */
        .slideshow-container {
            position: relative;
            max-width: 100%;
            margin: auto;
        }

        .slide {
            display: none;
            text-align: center;
        }

        .color-buttons {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .color-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid black;
            margin: 0 10px;
            cursor: pointer;
            transition: border-color 0.5s;
        }

        .prev, .next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            margin-top: -22px;
            padding: 16px;
            color: black;
            font-weight: bold;
            font-size: 18px;
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
        }

        .next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }

        .prev:hover, .next:hover {
            background-color: rgba(0,0,0,0.8);
        }

        @media (max-width: 768px) {
            .model-container {
                height: 50vh;
            }

            .color-button {
                width: 30px;
                height: 30px;
                margin: 0 5px;
            }
        }
    </style>
</head>
<body>
    <!-- Model Viewer Container -->
    <div class="model-container">
        <model-viewer id="sneaker-model"
            src="https://raw.githubusercontent.com/flori2341/Sneaker/main/Sneaker.glb"
            alt="A 3D model of a sneaker"
            auto-rotate
            camera-controls
            shadow-intensity="1.5"
            style="--color: black;
                --spot-light-intensity: 3;
                --spot-light-position: 1m 2m 3m;
                --spot-light-target: 0 0 0;
                --ambient-intensity: 1.2;">
        </model-viewer>
    </div>

    <!-- Slideshow Container -->
    <div class="slideshow-container">
        <!-- Slides for each material -->
        <div class="slide" id="slide-laces">
            <h2>Laces</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Laces"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Laces"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Laces"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Laces"></div>
            </div>
        </div>

        <div class="slide" id="slide-mittlere-sohle">
            <h2>Mittlere Sohle</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Mittlere Sohle"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Mittlere Sohle"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Mittlere Sohle"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Mittlere Sohle"></div>
            </div>
        </div>

        <div class="slide" id="slide-obere-sohle">
            <h2>Obere Sohle</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Obere Sohle"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Obere Sohle"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Obere Sohle"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Obere Sohle"></div>
            </div>
        </div>

        <!-- Neuer Slide für Laces Tips -->
        <div class="slide" id="slide-laces-tips">
            <h2>Laces Tips</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Laces Tips"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Laces Tips"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Laces Tips"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Laces Tips"></div>
            </div>
        </div>

        <div class="slide" id="slide-leder-spitze">
            <h2>Leder Spitze</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Leder Spitze"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Leder Spitze"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Leder Spitze"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Leder Spitze"></div>
            </div>
        </div>

        <div class="slide" id="slide-detail-sohle">
            <h2>Detail Sohle</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Detail Sohle"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Detail Sohle"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Detail Sohle"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Detail Sohle"></div>
            </div>
        </div>

        <div class="slide" id="slide-leder-seite">
            <h2>Leder Seite</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Leder Seite"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Leder Seite"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Leder Seite"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Leder Seite"></div>
            </div>
        </div>

        <div class="slide" id="slide-leder-details">
            <h2>Leder Details</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Leder Details"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Leder Details"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Leder Details"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Leder Details"></div>
            </div>
        </div>

        <div class="slide" id="slide-leder-top">
            <h2>Leder Top</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Leder Top"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Leder Top"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Leder Top"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Leder Top"></div>
            </div>
        </div>

        <div class="slide" id="slide-stoff-top">
            <h2>Stoff Top</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Stoff Top"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Stoff Top"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Stoff Top"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Stoff Top"></div>
            </div>
        </div>

        <div class="slide" id="slide-schnallen">
            <h2>Schnallen</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Schnallen"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Schnallen"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Schnallen"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Schnallen"></div>
            </div>
        </div>

        <!-- Neuer Slide für Sohle Unten -->
        <div class="slide" id="slide-sohle-unten">
            <h2>Sohle Unten</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Sohle Unten"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Sohle Unten"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Sohle Unten"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Sohle Unten"></div>
            </div>
        </div>

        <div class="slide" id="slide-sohle-fast-unten">
            <h2>Sohle Fast Unten</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Sohle Fast Unten"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Sohle Fast Unten"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Sohle Fast Unten"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Sohle Fast Unten"></div>
            </div>
        </div>

        <div class="slide" id="slide-sohle-fas-fast-unten">
            <h2>Sohle Fas Fast Unten</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Sohle Fas Fast Unten"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Sohle Fas Fast Unten"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Sohle Fas Fast Unten"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Sohle Fas Fast Unten"></div>
            </div>
        </div>

        <div class="slide" id="slide-aeusserer-stoff">
            <h2>Äußerer Stoff</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Äußerer Stoff"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Äußerer Stoff"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Äußerer Stoff"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Äußerer Stoff"></div>
            </div>
        </div>

        <div class="slide" id="slide-stoff-innen">
            <h2>Stoff Innen</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Stoff Innen"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Stoff Innen"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Stoff Innen"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Stoff Innen"></div>
            </div>
        </div>

        <div class="slide" id="slide-logo">
            <h2>Logo</h2>
            <div class="color-buttons">
                <div class="color-button" style="background-color: #e0e0e0;" data-color="#e0e0e0" data-material="Logo"></div>
                <div class="color-button" style="background-color: #262626;" data-color="#262626" data-material="Logo"></div>
                <div class="color-button" style="background-color: #c1121f;" data-color="#c1121f" data-material="Logo"></div>
                <div class="color-button" style="background-color: #1d3557;" data-color="#1d3557" data-material="Logo"></div>
            </div>
        </div>

        <!-- Navigation Arrows -->
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
    </div>

    <!-- JavaScript Section -->
    <script>
        // Slideshow Functionality
        let slideIndex = 1;
        const modelViewer = document.getElementById('sneaker-model');
        const colorButtons = document.querySelectorAll('.color-button');

        showSlides(slideIndex);

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        function showSlides(n) {
            const slides = document.getElementsByClassName("slide");
            if (n > slides.length) { slideIndex = 1 }
            if (n < 1) { slideIndex = slides.length }
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slides[slideIndex - 1].style.display = "block";

            // Update camera settings based on the current slide
            updateCameraSettings(slideIndex);
        }

        function updateCameraSettings(slideIndex) {
            switch (slideIndex) {
                case 1:
                    modelViewer.cameraOrbit = "0deg 75deg 2m";
                    modelViewer.fieldOfView = "45deg";
                    break;
                case 2:
                    modelViewer.cameraOrbit = "0deg 90deg 1.5m";
                    modelViewer.fieldOfView = "60deg";
                    break;
                case 3:
                    modelViewer.cameraOrbit = "180deg 60deg 2.5m";
                    modelViewer.fieldOfView = "50deg";
                    break;
                case 4:
                    modelViewer.cameraOrbit = "90deg 70deg 1m";
                    modelViewer.fieldOfView = "40deg";
                    break;
                case 5:
                    modelViewer.cameraOrbit = "0deg 75deg 1.8m";
                    modelViewer.fieldOfView = "55deg";
                    break;
                case 6:
                    modelViewer.cameraOrbit = "180deg 60deg 2.2m";
                    modelViewer.fieldOfView = "50deg";
                    break;
                case 7:
                    modelViewer.cameraOrbit = "90deg 65deg 2.5m";
                    modelViewer.fieldOfView = "45deg";
                    break;
                case 8:
                    modelViewer.cameraOrbit = "0deg 85deg 2m";
                    modelViewer.fieldOfView = "55deg";
                    break;
                case 9:
                    modelViewer.cameraOrbit = "180deg 75deg 2.2m";
                    modelViewer.fieldOfView = "50deg";
                    break;
                case 10:
                    modelViewer.cameraOrbit = "90deg 70deg 2.3m";
                    modelViewer.fieldOfView = "45deg";
                    break;
                case 11:
                    modelViewer.cameraOrbit = "0deg 60deg 1.5m";
                    modelViewer.fieldOfView = "50deg";
                    break;
                case 12:
                    modelViewer.cameraOrbit = "180deg 70deg 2.1m";
                    modelViewer.fieldOfView = "55deg";
                    break;
                case 13:
                    modelViewer.cameraOrbit = "90deg 80deg 2m";
                    modelViewer.fieldOfView = "50deg";
                    break;
                case 14:
                    modelViewer.cameraOrbit = "0deg 85deg 1.7m";
                    modelViewer.fieldOfView = "55deg";
                    break;
                case 15:
                    modelViewer.cameraOrbit = "180deg 65deg 2m";
                    modelViewer.fieldOfView = "50deg";
                    break;
                case 16:
                    modelViewer.cameraOrbit = "90deg 75deg 2.1m";
                    modelViewer.fieldOfView = "55deg";
                    break;
                case 17:
                    modelViewer.cameraOrbit = "0deg 80deg 2m";
                    modelViewer.fieldOfView = "50deg";
                    break;
                case 18: // New case for "Laces Tips"
                    modelViewer.cameraOrbit = "180deg 70deg 1.8m";
                    modelViewer.fieldOfView = "50deg";
                    break;
                case 19: // New case for "Sohle Unten"
                    modelViewer.cameraOrbit = "0deg 65deg 2m";
                    modelViewer.fieldOfView = "55deg";
                    break;
            }
        }

        // Material Color Change Functionality
        modelViewer.addEventListener('load', () => {
            colorButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const color = button.getAttribute('data-color');
                    const materialName = button.getAttribute('data-material');
                    const material = modelViewer.model.materials.find(mat => mat.name === materialName);
                    if (material) {
                        material.pbrMetallicRoughness.setBaseColorFactor(hexToRgb(color));
                    } else {
                        console.log(`Material "${materialName}" not found`);
                    }
                });
            });
        });

        // Utility Function to Convert Hex to RGB
        function hexToRgb(hex) {
            let r = parseInt(hex.slice(1, 3), 16) / 255;
            let g = parseInt(hex.slice(3, 5), 16) / 255;
            let b = parseInt(hex.slice(5, 7), 16) / 255;
            return [r, g, b, 1];
        }
    </script>
</body>
</html>
